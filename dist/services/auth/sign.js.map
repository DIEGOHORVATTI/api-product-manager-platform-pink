{"version":3,"sources":["../../../src/services/auth/sign.ts"],"sourcesContent":["import { error } from 'elysia'\n\nimport { User, IUser } from '@/models/User'\n\nexport const signService = async ({ email, password }: IUser) => {\n  const user = await User.findOne({ email })\n\n  if (!user) {\n    throw error('Unauthorized', { error: 'Email not registered' })\n  }\n\n  const isValidPassword = user.comparePassword?.(password)\n\n  if (!isValidPassword) {\n    throw error('Unauthorized', { error: 'Invalid credentials' })\n  }\n\n  return user\n}\n"],"names":["signService","email","password","user","User","findOne","error","isValidPassword","comparePassword"],"mappings":";;;;+BAIaA;;;eAAAA;;;wBAJS;sBAEM;AAErB,MAAMA,cAAc,OAAO,EAAEC,KAAK,EAAEC,QAAQ,EAAS;IAC1D,MAAMC,OAAO,MAAMC,UAAI,CAACC,OAAO,CAAC;QAAEJ;IAAM;IAExC,IAAI,CAACE,MAAM;QACT,MAAMG,IAAAA,aAAK,EAAC,gBAAgB;YAAEA,OAAO;QAAuB;IAC9D;IAEA,MAAMC,kBAAkBJ,KAAKK,eAAe,GAAGN;IAE/C,IAAI,CAACK,iBAAiB;QACpB,MAAMD,IAAAA,aAAK,EAAC,gBAAgB;YAAEA,OAAO;QAAsB;IAC7D;IAEA,OAAOH;AACT"}