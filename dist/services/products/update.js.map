{"version":3,"sources":["../../../src/services/products/update.ts"],"sourcesContent":["import { IProduct, Product } from '@/models/Product'\n\nimport { error } from 'elysia'\nimport { IUser } from '../../models/User'\n\nexport const updateProductService = async (id: string, body: IProduct, user: IUser) => {\n  const product = await Product.findById(id)\n\n  if (!product) {\n    throw error(404, 'Product not found')\n  }\n\n  /* if (product.user.toString() !== user._id.toString()) {\n    throw error(403, 'You are not allowed to update this product')\n  } */\n\n  Object.assign(product, body)\n\n  await product.save()\n\n  return product\n}\n"],"names":["updateProductService","id","body","user","product","Product","findById","error","Object","assign","save"],"mappings":"oGAKaA,8DAAAA,+CALqB,8CAEZ,UAGf,MAAMA,qBAAuB,MAAOC,GAAYC,KAAgBC,QACrE,MAAMC,QAAU,MAAMC,gBAAO,CAACC,QAAQ,CAACL,IAEvC,GAAI,CAACG,QAAS,CACZ,KAAMG,GAAAA,aAAK,EAAC,IAAK,oBACnB,CAMAC,OAAOC,MAAM,CAACL,QAASF,KAEvB,OAAME,QAAQM,IAAI,GAElB,OAAON,OACT"}