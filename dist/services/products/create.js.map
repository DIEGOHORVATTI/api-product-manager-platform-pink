{"version":3,"sources":["../../../src/services/products/create.ts"],"sourcesContent":["import { IUser, User } from '@/models/User'\n\nimport { error } from 'elysia'\nimport { Product } from '../../models/Product'\n\nexport const createUserService = async ({ email, password }: IUser) => {\n  if (await Product.findOne({ email })) {\n    throw error('Conflict', { error: 'User of this email already exists' })\n  }\n\n  const product = new Product({ email, password })\n\n  await product.save().catch(() => {\n    throw error('Internal Server Error', { error: 'Failed to create user' })\n  })\n\n  return product\n}\n"],"names":["createUserService","email","password","Product","findOne","error","product","save","catch"],"mappings":";;;;+BAKaA;;;eAAAA;;;wBAHS;yBACE;AAEjB,MAAMA,oBAAoB,OAAO,EAAEC,KAAK,EAAEC,QAAQ,EAAS;IAChE,IAAI,MAAMC,gBAAO,CAACC,OAAO,CAAC;QAAEH;IAAM,IAAI;QACpC,MAAMI,IAAAA,aAAK,EAAC,YAAY;YAAEA,OAAO;QAAoC;IACvE;IAEA,MAAMC,UAAU,IAAIH,gBAAO,CAAC;QAAEF;QAAOC;IAAS;IAE9C,MAAMI,QAAQC,IAAI,GAAGC,KAAK,CAAC;QACzB,MAAMH,IAAAA,aAAK,EAAC,yBAAyB;YAAEA,OAAO;QAAwB;IACxE;IAEA,OAAOC;AACT"}