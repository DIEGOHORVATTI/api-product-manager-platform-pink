{"version":3,"sources":["../../../src/services/users/create.ts"],"sourcesContent":["import { IUser, User } from '@/models/User'\n\nimport { error } from 'elysia'\n\nexport const createUserService = async (data: IUser) => {\n  if (await User.findOne({ email: data.email })) {\n    throw error('Conflict', { error: 'O usuário deste e-mail já existe' })\n  }\n\n  const newUser = new User(data)\n\n  await newUser.save().catch(() => {\n    throw error('Internal Server Error', { error: 'Falha ao criar usuário' })\n  })\n\n  const { password, ...user } = newUser.toObject()\n\n  return { user }\n}\n"],"names":["createUserService","data","User","findOne","email","error","newUser","save","catch","password","user","toObject"],"mappings":";;;;+BAIaA;;;eAAAA;;;sBAJe;wBAEN;AAEf,MAAMA,oBAAoB,OAAOC;IACtC,IAAI,MAAMC,UAAI,CAACC,OAAO,CAAC;QAAEC,OAAOH,KAAKG,KAAK;IAAC,IAAI;QAC7C,MAAMC,IAAAA,aAAK,EAAC,YAAY;YAAEA,OAAO;QAAmC;IACtE;IAEA,MAAMC,UAAU,IAAIJ,UAAI,CAACD;IAEzB,MAAMK,QAAQC,IAAI,GAAGC,KAAK,CAAC;QACzB,MAAMH,IAAAA,aAAK,EAAC,yBAAyB;YAAEA,OAAO;QAAyB;IACzE;IAEA,MAAM,EAAEI,QAAQ,EAAE,GAAGC,MAAM,GAAGJ,QAAQK,QAAQ;IAE9C,OAAO;QAAED;IAAK;AAChB"}