{"version":3,"sources":["../../src/routes/subscription.routes.ts"],"sourcesContent":["import { Elysia } from 'elysia'\nimport { jwt } from '@/middlewares/jwt'\nimport { \n  createSubscriptionService,\n  cancelSubscriptionService,\n  getSubscriptionService\n} from '@/services/subscriptions'\n\nconst router = new Elysia().group('/subscriptions', server =>\n  server\n    .use(jwt)\n    .post(\n      '/',\n      async ({ body, user }) => {\n        const subscription = await createSubscriptionService(body, user)\n        return { message: 'Subscription created successfully', subscription }\n      },\n      {\n        body: Elysia.t.Object({\n          plan: Elysia.t.Enum({ Free: 'Free', Pro: 'Pro' }),\n          paymentMethod: Elysia.t.Enum({ pix: 'pix', credit_card: 'credit_card' })\n        })\n      }\n    )\n    .delete('/', async ({ user }) => {\n      await cancelSubscriptionService(user)\n      return { message: 'Subscription cancelled successfully' }\n    })\n    .get('/', async ({ user }) => {\n      const subscription = await getSubscriptionService(user)\n      return { message: 'Subscription retrieved successfully', subscription }\n    })\n)\n\nexport default router"],"names":["router","Elysia","group","server","use","jwt","post","body","user","subscription","createSubscriptionService","message","t","Object","plan","Enum","Free","Pro","paymentMethod","pix","credit_card","delete","cancelSubscriptionService","get","getSubscriptionService"],"mappings":";;;;+BAkCA;;;eAAA;;;wBAlCuB;qBACH;+BAKb;AAEP,MAAMA,SAAS,IAAIC,cAAM,GAAGC,KAAK,CAAC,kBAAkBC,CAAAA,SAClDA,OACGC,GAAG,CAACC,QAAG,EACPC,IAAI,CACH,KACA,OAAO,EAAEC,IAAI,EAAEC,IAAI,EAAE;QACnB,MAAMC,eAAe,MAAMC,IAAAA,wCAAyB,EAACH,MAAMC;QAC3D,OAAO;YAAEG,SAAS;YAAqCF;QAAa;IACtE,GACA;QACEF,MAAMN,cAAM,CAACW,CAAC,CAACC,MAAM,CAAC;YACpBC,MAAMb,cAAM,CAACW,CAAC,CAACG,IAAI,CAAC;gBAAEC,MAAM;gBAAQC,KAAK;YAAM;YAC/CC,eAAejB,cAAM,CAACW,CAAC,CAACG,IAAI,CAAC;gBAAEI,KAAK;gBAAOC,aAAa;YAAc;QACxE;IACF,GAEDC,MAAM,CAAC,KAAK,OAAO,EAAEb,IAAI,EAAE;QAC1B,MAAMc,IAAAA,wCAAyB,EAACd;QAChC,OAAO;YAAEG,SAAS;QAAsC;IAC1D,GACCY,GAAG,CAAC,KAAK,OAAO,EAAEf,IAAI,EAAE;QACvB,MAAMC,eAAe,MAAMe,IAAAA,qCAAsB,EAAChB;QAClD,OAAO;YAAEG,SAAS;YAAuCF;QAAa;IACxE;MAGJ,WAAeT"}