{"version":3,"sources":["../../src/routes/auth.routes.ts"],"sourcesContent":["import { Elysia, t as Type } from 'elysia'\n\nimport { UserSchema } from '@/models/User'\n\nimport { signService } from '@/services/auth/sign'\nimport { registerService } from '@/services/auth/register'\nimport { recoverPasswordService } from '@/services/auth/recover-password'\n\nimport { jwtSettings } from '@/shared/jwt-settings'\n\nconst router = new Elysia().group('/auth', server =>\n  server\n    .use(jwtSettings)\n    .post(\n      '/login',\n      async ({ body, jwt }) => {\n        const user = await signService(body)\n\n        const token = await jwt.sign({ id: user.id })\n\n        return { token }\n      },\n      UserSchema\n    )\n    .post(\n      '/register',\n      async ({ body }) => {\n        const user = await registerService(body)\n\n        return { message: 'User registered successfully', user }\n      },\n      UserSchema\n    )\n    .post(\n      '/recover-password',\n      async ({ body: { email } }) => {\n        await recoverPasswordService(email)\n\n        return { message: 'Recovery email sent successfully' }\n      },\n      {\n        body: Type.Object({\n          email: Type.String({ format: 'email' })\n        })\n      }\n    )\n)\n\nexport default router\n"],"names":["router","Elysia","group","server","use","jwtSettings","post","body","jwt","user","signService","token","sign","id","UserSchema","registerService","message","email","recoverPasswordService","Type","Object","String","format"],"mappings":";;;;+BAgDA;;;eAAA;;;wBAhDkC;sBAEP;sBAEC;0BACI;iCACO;6BAEX;AAE5B,MAAMA,SAAS,IAAIC,cAAM,GAAGC,KAAK,CAAC,SAASC,CAAAA,SACzCA,OACGC,GAAG,CAACC,wBAAW,EACfC,IAAI,CACH,UACA,OAAO,EAAEC,IAAI,EAAEC,GAAG,EAAE;QAClB,MAAMC,OAAO,MAAMC,IAAAA,iBAAW,EAACH;QAE/B,MAAMI,QAAQ,MAAMH,IAAII,IAAI,CAAC;YAAEC,IAAIJ,KAAKI,EAAE;QAAC;QAE3C,OAAO;YAAEF;QAAM;IACjB,GACAG,gBAAU,EAEXR,IAAI,CACH,aACA,OAAO,EAAEC,IAAI,EAAE;QACb,MAAME,OAAO,MAAMM,IAAAA,yBAAe,EAACR;QAEnC,OAAO;YAAES,SAAS;YAAgCP;QAAK;IACzD,GACAK,gBAAU,EAEXR,IAAI,CACH,qBACA,OAAO,EAAEC,MAAM,EAAEU,KAAK,EAAE,EAAE;QACxB,MAAMC,IAAAA,uCAAsB,EAACD;QAE7B,OAAO;YAAED,SAAS;QAAmC;IACvD,GACA;QACET,MAAMY,SAAI,CAACC,MAAM,CAAC;YAChBH,OAAOE,SAAI,CAACE,MAAM,CAAC;gBAAEC,QAAQ;YAAQ;QACvC;IACF;MAIN,WAAetB"}