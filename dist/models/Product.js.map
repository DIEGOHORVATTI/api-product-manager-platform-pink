{"version":3,"sources":["../../src/models/Product.ts"],"sourcesContent":["import { t as Type } from 'elysia'\nimport { Schema, Types } from 'mongoose'\n\nimport { collectionsData } from '@/constants/config'\n\nimport { setDefaultSettingsSchema } from '@/shared/set-default-settings-schema'\nimport { connectDB } from '@/shared/connection-db'\n\nexport const ProductSchema = {\n  body: Type.Object({\n    name: Type.String(),\n    description: Type.String(),\n    price: Type.Number(),\n    company: Type.Object({\n      id: Type.String(),\n      name: Type.String()\n    })\n  })\n}\n\nexport type IProduct = typeof ProductSchema.body.static & {\n  qrCodeUrl: string\n  views: number\n  clicks: number\n}\n\nconst SchemaModel = new Schema<IProduct>(\n  {\n    name: {\n      type: String,\n      required: true\n    },\n    description: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    company: {\n      id: {\n        type: Types.ObjectId,\n        required: true,\n        ref: 'User'\n      },\n      name: {\n        type: String,\n        required: true\n      }\n    },\n    qrCodeUrl: String,\n    views: {\n      type: Number,\n      default: 0\n    },\n    clicks: {\n      type: Number,\n      default: 0\n    }\n  },\n  {\n    timestamps: true,\n    collection: collectionsData.Product.collection\n  }\n)\n\nsetDefaultSettingsSchema(SchemaModel)\n\nexport const Product = connectDB.model<IProduct>(collectionsData.Product.name, SchemaModel)\n"],"names":["Product","ProductSchema","body","Type","Object","name","String","description","price","Number","company","id","SchemaModel","Schema","type","required","Types","ObjectId","ref","qrCodeUrl","views","default","clicks","timestamps","collection","collectionsData","setDefaultSettingsSchema","connectDB","model"],"mappings":";;;;;;;;;;;IAqEaA,OAAO;eAAPA;;IA7DAC,aAAa;eAAbA;;;wBARa;0BACI;wBAEE;0CAES;8BACf;AAEnB,MAAMA,gBAAgB;IAC3BC,MAAMC,SAAI,CAACC,MAAM,CAAC;QAChBC,MAAMF,SAAI,CAACG,MAAM;QACjBC,aAAaJ,SAAI,CAACG,MAAM;QACxBE,OAAOL,SAAI,CAACM,MAAM;QAClBC,SAASP,SAAI,CAACC,MAAM,CAAC;YACnBO,IAAIR,SAAI,CAACG,MAAM;YACfD,MAAMF,SAAI,CAACG,MAAM;QACnB;IACF;AACF;AAQA,MAAMM,cAAc,IAAIC,gBAAM,CAC5B;IACER,MAAM;QACJS,MAAMR;QACNS,UAAU;IACZ;IACAR,aAAa;QACXO,MAAMR;QACNS,UAAU;IACZ;IACAP,OAAO;QACLM,MAAML;QACNM,UAAU;IACZ;IACAL,SAAS;QACPC,IAAI;YACFG,MAAME,eAAK,CAACC,QAAQ;YACpBF,UAAU;YACVG,KAAK;QACP;QACAb,MAAM;YACJS,MAAMR;YACNS,UAAU;QACZ;IACF;IACAI,WAAWb;IACXc,OAAO;QACLN,MAAML;QACNY,SAAS;IACX;IACAC,QAAQ;QACNR,MAAML;QACNY,SAAS;IACX;AACF,GACA;IACEE,YAAY;IACZC,YAAYC,uBAAe,CAACzB,OAAO,CAACwB,UAAU;AAChD;AAGFE,IAAAA,kDAAwB,EAACd;AAElB,MAAMZ,UAAU2B,uBAAS,CAACC,KAAK,CAAWH,uBAAe,CAACzB,OAAO,CAACK,IAAI,EAAEO"}