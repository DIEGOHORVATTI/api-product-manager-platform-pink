{"version":3,"sources":["../../src/models/Product.ts"],"sourcesContent":["import { t as Type } from 'elysia'\nimport { Schema, Types } from 'mongoose'\n\nimport { collectionsData } from '@/constants/config'\n\nimport { setDefaultSettingsSchema } from '@/shared/set-default-settings-schema'\nimport { connectDB } from '@/shared/connection-db'\n\nexport const ProductSchema = {\n  body: Type.Object({\n    name: Type.String(),\n    description: Type.String(),\n    code: Type.String({ minLength: 6, maxLength: 9 }),\n    price: Type.Number(),\n    company: Type.Object({\n      id: Type.String(),\n      name: Type.String()\n    })\n  })\n}\n\nexport type IProduct = typeof ProductSchema.body.static & {\n  views: number\n  clicks: number\n}\n\nconst SchemaModel = new Schema<IProduct>(\n  {\n    name: {\n      type: String,\n      required: true\n    },\n    description: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    company: {\n      id: {\n        type: Types.ObjectId,\n        required: true,\n        ref: 'User'\n      },\n      name: {\n        type: String,\n        required: true\n      }\n    },\n    code: {\n      type: String,\n      required: true\n    },\n    views: {\n      type: Number,\n      default: 0\n    },\n    clicks: {\n      type: Number,\n      default: 0\n    }\n  },\n  {\n    timestamps: true,\n    collection: collectionsData.Product.collection\n  }\n)\n\nsetDefaultSettingsSchema(SchemaModel)\n\nexport const Product = connectDB.model<IProduct>(collectionsData.Product.name, SchemaModel)\n"],"names":["Product","ProductSchema","body","Type","Object","name","String","description","code","minLength","maxLength","price","Number","company","id","SchemaModel","Schema","type","required","Types","ObjectId","ref","views","default","clicks","timestamps","collection","collectionsData","setDefaultSettingsSchema","connectDB","model"],"mappings":";;;;;;;;;;;IAwEaA,OAAO;eAAPA;;IAhEAC,aAAa;eAAbA;;;wBARa;0BACI;wBAEE;0CAES;8BACf;AAEnB,MAAMA,gBAAgB;IAC3BC,MAAMC,SAAI,CAACC,MAAM,CAAC;QAChBC,MAAMF,SAAI,CAACG,MAAM;QACjBC,aAAaJ,SAAI,CAACG,MAAM;QACxBE,MAAML,SAAI,CAACG,MAAM,CAAC;YAAEG,WAAW;YAAGC,WAAW;QAAE;QAC/CC,OAAOR,SAAI,CAACS,MAAM;QAClBC,SAASV,SAAI,CAACC,MAAM,CAAC;YACnBU,IAAIX,SAAI,CAACG,MAAM;YACfD,MAAMF,SAAI,CAACG,MAAM;QACnB;IACF;AACF;AAOA,MAAMS,cAAc,IAAIC,gBAAM,CAC5B;IACEX,MAAM;QACJY,MAAMX;QACNY,UAAU;IACZ;IACAX,aAAa;QACXU,MAAMX;QACNY,UAAU;IACZ;IACAP,OAAO;QACLM,MAAML;QACNM,UAAU;IACZ;IACAL,SAAS;QACPC,IAAI;YACFG,MAAME,eAAK,CAACC,QAAQ;YACpBF,UAAU;YACVG,KAAK;QACP;QACAhB,MAAM;YACJY,MAAMX;YACNY,UAAU;QACZ;IACF;IACAV,MAAM;QACJS,MAAMX;QACNY,UAAU;IACZ;IACAI,OAAO;QACLL,MAAML;QACNW,SAAS;IACX;IACAC,QAAQ;QACNP,MAAML;QACNW,SAAS;IACX;AACF,GACA;IACEE,YAAY;IACZC,YAAYC,uBAAe,CAAC3B,OAAO,CAAC0B,UAAU;AAChD;AAGFE,IAAAA,kDAAwB,EAACb;AAElB,MAAMf,UAAU6B,uBAAS,CAACC,KAAK,CAAWH,uBAAe,CAAC3B,OAAO,CAACK,IAAI,EAAEU"}