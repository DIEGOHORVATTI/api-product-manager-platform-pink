{"version":3,"sources":["../../src/models/Product.ts"],"sourcesContent":["import { t as Type } from 'elysia'\nimport { Schema, Types } from 'mongoose'\n\nimport { collectionsData } from '@/constants/config'\n\nimport { setDefaultSettingsSchema } from '@/shared/set-default-settings-schema'\nimport { connectDB } from '@/shared/connection-db'\n\nexport const ProductSchema = {\n  body: Type.Object({\n    name: Type.String(),\n    description: Type.String(),\n    code: Type.String({ minLength: 6, maxLength: 9 }),\n    price: Type.Number(),\n    company: Type.Object({\n      id: Type.String(),\n      name: Type.String()\n    })\n  })\n}\n\nexport type IProduct = typeof ProductSchema.body.static\n\nconst SchemaModel = new Schema<IProduct>(\n  {\n    name: {\n      type: String,\n      required: true\n    },\n    description: {\n      type: String,\n      required: true\n    },\n    price: {\n      type: Number,\n      required: true\n    },\n    company: {\n      id: {\n        type: Types.ObjectId,\n        required: true,\n        ref: 'User'\n      },\n      name: {\n        type: String,\n        required: true\n      }\n    },\n    code: {\n      type: String,\n      required: true\n    }\n  },\n  {\n    timestamps: true,\n    collection: collectionsData.Product.collection\n  }\n)\n\nsetDefaultSettingsSchema(SchemaModel)\n\nexport const Product = connectDB.model<IProduct>(collectionsData.Product.name, SchemaModel)\n"],"names":["Product","ProductSchema","body","Type","Object","name","String","description","code","minLength","maxLength","price","Number","company","id","SchemaModel","Schema","type","required","Types","ObjectId","ref","timestamps","collection","collectionsData","setDefaultSettingsSchema","connectDB","model"],"mappings":"2MA6DaA,OAAO,mBAAPA,SArDAC,aAAa,mBAAbA,uCARa,kCACI,kCAEE,+DAES,qEACf,2BAEnB,MAAMA,cAAgB,CAC3BC,KAAMC,SAAI,CAACC,MAAM,CAAC,CAChBC,KAAMF,SAAI,CAACG,MAAM,GACjBC,YAAaJ,SAAI,CAACG,MAAM,GACxBE,KAAML,SAAI,CAACG,MAAM,CAAC,CAAEG,UAAW,EAAGC,UAAW,CAAE,GAC/CC,MAAOR,SAAI,CAACS,MAAM,GAClBC,QAASV,SAAI,CAACC,MAAM,CAAC,CACnBU,GAAIX,SAAI,CAACG,MAAM,GACfD,KAAMF,SAAI,CAACG,MAAM,EACnB,EACF,EACF,EAIA,MAAMS,YAAc,IAAIC,gBAAM,CAC5B,CACEX,KAAM,CACJY,KAAMX,OACNY,SAAU,IACZ,EACAX,YAAa,CACXU,KAAMX,OACNY,SAAU,IACZ,EACAP,MAAO,CACLM,KAAML,OACNM,SAAU,IACZ,EACAL,QAAS,CACPC,GAAI,CACFG,KAAME,eAAK,CAACC,QAAQ,CACpBF,SAAU,KACVG,IAAK,MACP,EACAhB,KAAM,CACJY,KAAMX,OACNY,SAAU,IACZ,CACF,EACAV,KAAM,CACJS,KAAMX,OACNY,SAAU,IACZ,CACF,EACA,CACEI,WAAY,KACZC,WAAYC,uBAAe,CAACxB,OAAO,CAACuB,UAAU,AAChD,GAGFE,GAAAA,kDAAwB,EAACV,aAElB,MAAMf,QAAU0B,uBAAS,CAACC,KAAK,CAAWH,uBAAe,CAACxB,OAAO,CAACK,IAAI,CAAEU"}